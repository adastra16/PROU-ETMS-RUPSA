{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Avijit%20Singh/Downloads/employee-task-management%20%281%29/components/ui/sonner.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { Toaster as Sonner, type ToasterProps } from \"sonner\"\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  return (\n    <Sonner\n      theme=\"dark\"\n      className=\"toaster group\"\n      style={\n        {\n          \"--normal-bg\": \"var(--popover)\",\n          \"--normal-text\": \"var(--popover-foreground)\",\n          \"--normal-border\": \"var(--border)\",\n        } as React.CSSProperties\n      }\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n"],"names":[],"mappings":";;;;;AAIA;AAJA;;;AAMA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;IACzC,qBACE,yRAAC,8LAAM;QACL,OAAM;QACN,WAAU;QACV,OACE;YACE,eAAe;YACf,iBAAiB;YACjB,mBAAmB;QACrB;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Avijit%20Singh/Downloads/employee-task-management%20%281%29/context/auth-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\nimport { useRouter } from \"next/navigation\"\n\ninterface User {\n  id: string\n  email: string\n  name: string\n  role: \"admin\" | \"user\"\n}\n\ninterface AuthContextType {\n  user: User | null\n  token: string | null\n  isLoading: boolean\n  login: (email: string, password: string) => Promise<boolean>\n  register: (name: string, email: string, password: string) => Promise<boolean>\n  logout: () => void\n}\n\nconst AuthContext = createContext<AuthContextType | null>(null)\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [token, setToken] = useState<string | null>(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const router = useRouter()\n  const apiBaseUrl = process.env.NEXT_PUBLIC_API_BASE_URL ?? \"http://localhost:5000/api\"\n\n  const persistSession = (authToken: string, authUser: User) => {\n    localStorage.setItem(\"nexusflow_token\", authToken)\n    localStorage.setItem(\"nexusflow_user\", JSON.stringify(authUser))\n    setToken(authToken)\n    setUser(authUser)\n  }\n\n  const clearSession = () => {\n    localStorage.removeItem(\"nexusflow_token\")\n    localStorage.removeItem(\"nexusflow_user\")\n    setToken(null)\n    setUser(null)\n  }\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem(\"nexusflow_user\")\n    const token = localStorage.getItem(\"nexusflow_token\")\n\n    if (storedUser && token) {\n      const parsedUser = JSON.parse(storedUser) as User\n      setUser(parsedUser)\n      setToken(token)\n      void validateToken(token)\n    } else {\n      setIsLoading(false)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const validateToken = async (existingToken: string) => {\n    try {\n      const response = await fetch(`${apiBaseUrl}/auth/validate`, {\n        headers: {\n          Authorization: `Bearer ${existingToken}`,\n        },\n      })\n\n      if (!response.ok) {\n        clearSession()\n        return\n      }\n\n      const result = await response.json()\n      const apiUser = result?.data?.user\n      if (apiUser) {\n        persistSession(existingToken, {\n          id: apiUser.id,\n          email: apiUser.email,\n          name: apiUser.username ?? apiUser.name ?? apiUser.email.split(\"@\")[0],\n          role: \"admin\",\n        })\n      }\n    } catch (error) {\n      console.error(\"Failed to validate token\", error)\n      clearSession()\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const login = async (email: string, password: string): Promise<boolean> => {\n    try {\n      const response = await fetch(`${apiBaseUrl}/auth/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ email, password }),\n      })\n\n      if (!response.ok) {\n        return false\n      }\n\n      const result = await response.json()\n      const authData = result?.data\n      if (!authData?.token || !authData?.user) {\n        return false\n      }\n\n      persistSession(authData.token, {\n        id: authData.user.id,\n        email: authData.user.email,\n        name: authData.user.username ?? authData.user.name ?? authData.user.email,\n        role: \"admin\",\n      })\n\n      return true\n    } catch (error) {\n      console.error(\"Failed to login\", error)\n      return false\n    }\n  }\n\n  const register = async (name: string, email: string, password: string): Promise<boolean> => {\n    try {\n      const response = await fetch(`${apiBaseUrl}/auth/register`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ username: name, email, password }),\n      })\n\n      if (!response.ok) {\n        return false\n      }\n\n      const result = await response.json()\n      const authData = result?.data\n      if (!authData?.token || !authData?.user) {\n        return false\n      }\n\n      persistSession(authData.token, {\n        id: authData.user.id,\n        email: authData.user.email,\n        name: authData.user.username ?? name,\n        role: \"user\",\n      })\n\n      return true\n    } catch (error) {\n      console.error(\"Failed to register\", error)\n      return false\n    }\n  }\n\n  const logout = () => {\n    clearSession()\n    router.push(\"/login\")\n  }\n\n  return (\n    <AuthContext.Provider value={{ user, token, isLoading, login, register, logout }}>{children}</AuthContext.Provider>\n  )\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":"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"}}]
}